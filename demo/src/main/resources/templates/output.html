<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>skilltable</title>-->
<!--    <script src="js/echarts.js"></script>-->
<!--    <script src="js/jquery-3.2.1.min.js"></script>-->
<!--</head>-->
<!--<body>-->
<!--&lt;!&ndash;<div th:each="job:${session.jobRecommend}" type = 'hidden'>&ndash;&gt;-->
<!--&lt;!&ndash;    <h1>欢迎 ： <span  th:text="${job}" ></span> </h1>&ndash;&gt;-->
<!--&lt;!&ndash;</div>&ndash;&gt;-->
<!--<div th:id="jobRecommend" th:text="${session.jobRecommend}" style="display : none"></div>-->
<!--<div th:id="extraSkill" th:text="${session.extraSkill}" style="display : none"></div>-->
<!--&lt;!&ndash;<div th:each="x:${session.extraSkill}"  type = 'hidden'>&ndash;&gt;-->
<!--&lt;!&ndash;        <h1>欢迎 ： <span  th:text="${x}" ></span> </h1>&ndash;&gt;-->
<!--&lt;!&ndash;</div>&ndash;&gt;-->
<!--&lt;!&ndash; 为ECharts准备一个具备大小（宽高）的Dom &ndash;&gt;-->
<!--<div id="main" style="width: 1400px;height:800px;"></div>-->
<!--<script type="text/javascript">-->

<!--    var itemStyle = {-->
<!--        normal: {-->
<!--        },-->
<!--        emphasis: {-->
<!--            barBorderWidth: 1,-->
<!--            shadowBlur: 10,-->
<!--            shadowOffsetX: 0,-->
<!--            shadowOffsetY: 0,-->
<!--            shadowColor: 'rgba(0,0,0,0.5)'-->
<!--        }-->
<!--    };-->
<!--    // 基于准备好的dom，初始化echarts实例-->
<!--    var myChart = echarts.init(document.getElementById('main'));-->
<!--    var jobRecommend=document.getElementById("jobRecommend").textContent;-->
<!--    jobRecommend=jobRecommend.substring(2,jobRecommend.length-2).split("), (");-->
<!--    var extraSkill=document.getElementById("extraSkill").textContent;-->
<!--    extraSkill=extraSkill.substring(3,extraSkill.length-3).split(")], [(");-->


<!--    var jobName=[];-->
<!--    var jobScore=[];-->
<!--    for(var i=0;i<jobRecommend.length;i++)-->
<!--    {-->
<!--        var arr=jobRecommend[i].split(",");-->
<!--        jobName.push(arr[0]);-->
<!--        jobScore.push(arr[1]);-->

<!--    }-->
<!--    console.log(jobName);-->
<!--    console.log(jobScore);-->


<!--    var skills=[];-->
<!--    for(var i=0;i<extraSkill.length;i++){-->
<!--        skills[i]=extraSkill[i].split("), (");-->
<!--    }-->
<!--    console.log(skills);-->

<!--    var skillid1=[];-->
<!--    var skillid2=[];-->
<!--    var skillid3=[];-->
<!--    var skillscore1=[];-->
<!--    var skillscore2=[];-->
<!--    var skillscore3=[];-->

<!--    for(var i=0;i<skills.length;i++)-->
<!--    {-->
<!--        var arr=skills[i][0].split(",");-->
<!--        skillid1.push(arr[0]);-->
<!--        skillscore1.push(arr[1]*(-10));-->

<!--        arr=skills[i][1].split(",");-->
<!--        skillid2.push(arr[0]);-->
<!--        skillscore2.push(arr[1]*(-10));-->

<!--        arr=skills[i][2].split(",");-->
<!--        skillid3.push(arr[0]);-->
<!--        skillscore3.push(arr[1]*(-10));-->

<!--    }-->

<!--    var mapjob=[];-->
<!--    for(var i=0;i<jobScore.length;i++)-->
<!--    {-->
<!--        var temp={};-->
<!--        temp["value"]=jobScore[i];-->
<!--        temp["name"]=jobName[i];-->
<!--        temp["text"]=jobScore[i];-->
<!--        mapjob.push(temp);-->
<!--    }-->

<!--    var mapskill1=[];-->
<!--    for(var i=0;i<jobScore.length;i++)-->
<!--    {-->
<!--        var temp={};-->
<!--        temp["value"]=skillscore1[i];-->
<!--        temp["name"]=skillid1[i];-->
<!--        temp["text"]=skillscore1[i];-->
<!--        mapskill1.push(temp);-->
<!--    }-->

<!--    var mapskill2=[];-->
<!--    for(var i=0;i<jobScore.length;i++)-->
<!--    {-->
<!--        var temp={};-->
<!--        temp["value"]=skillscore2[i];-->
<!--        temp["name"]=skillid2[i];-->
<!--        temp["text"]=skillscore2[i];-->
<!--        mapskill2.push(temp);-->
<!--    }-->

<!--    var mapskill3=[];-->
<!--    for(var i=0;i<jobScore.length;i++)-->
<!--    {-->
<!--        var temp={};-->
<!--        temp["value"]=skillscore3[i];-->
<!--        temp["name"]=skillid3[i];-->
<!--        temp["text"]=skillscore3[i];-->
<!--        mapskill3.push(temp);-->
<!--    }-->


<!--    option = {-->
<!--        backgroundColor: '#eee',-->
<!--        legend: {-->
<!--            data: ['推荐职位', '所需技能1', '所需技能2', '所需技能3'],-->
<!--            align: 'left',-->
<!--            left: 10-->
<!--        },-->
<!--        brush: {-->
<!--            toolbox: ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear'],-->
<!--            xAxisIndex: 0-->
<!--        },-->
<!--        toolbox: {-->
<!--            feature: {-->
<!--                magicType: {-->
<!--                    type: ['stack', 'tiled']-->
<!--                },-->
<!--                dataView: {}-->
<!--            }-->
<!--        },-->
<!--        tooltip: {},-->
<!--        xAxis: {-->
<!--            data: jobName,-->
<!--            name: '职业',-->
<!--            silent: false,-->
<!--            axisLine: {onZero: true},-->
<!--            splitLine: {show: false},-->
<!--            splitArea: {show: false}-->
<!--        },-->
<!--        yAxis: {-->
<!--            name:'推荐程度',-->
<!--            splitArea: {show: true}-->
<!--        },-->
<!--        grid: {-->
<!--            left: 100-->
<!--        },-->
<!--        series: [-->
<!--            {-->
<!--                name: '所需技能1',-->
<!--                type: 'bar',-->
<!--                stack: 'one',-->
<!--                itemStyle: itemStyle,-->
<!--                data: mapskill1,-->
<!--            },-->
<!--            {-->
<!--                name: '所需技能2',-->
<!--                type: 'bar',-->
<!--                stack: 'two',-->
<!--                itemStyle: itemStyle,-->
<!--                data: mapskill2,-->
<!--            },-->
<!--            {-->
<!--                name: '所需技能3',-->
<!--                type: 'bar',-->
<!--                stack: 'three',-->
<!--                itemStyle: itemStyle,-->
<!--                data: mapskill3,-->
<!--            },-->
<!--            {-->
<!--                name: '推荐职位',-->
<!--                type: 'bar',-->
<!--                stack: 'two',-->
<!--                itemStyle: itemStyle,-->
<!--                data: mapjob,-->
<!--            }-->
<!--        ]-->
<!--    };-->

<!--    // 使用刚指定的配置项和数据显示图表。-->
<!--    myChart.setOption(option);-->
<!--</script>-->

<!--</body>-->
<!--</html>-->

<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <link rel="apple-touch-icon" sizes="76x76" href="src/resources/assets/img/apple-icon.png"/>
    <link rel="icon" type="image/png" href="assets/img/favicon.png"/>
    <title>Paper Bootstrap Wizard by Creative Tim</title>

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport'/>
    <meta name="viewport" content="width=device-width"/>

    <!-- CSS Files -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="assets/css/paper-bootstrap-wizard.css" rel="stylesheet"/>


    <!-- Fonts and Icons -->
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Muli:400,300' rel='stylesheet' type='text/css'>
    <link href="assets/css/themify-icons.css" rel="stylesheet">
    <link href="assets/css/iconfont.css" rel="stylesheet">
    <script src="js/echarts.js"></script>
    <script src="js/jquery-3.2.1.min.js"></script>

</head>

<!-- Header -->

<!--</header>-->

<style>

    svg {
        height: 0px;
        margin-top: 0px;
        display: block;
    }

    .point {
        fill: #1da1f2;
    }

    #test {
        stroke: red;
    }

    text {
        dominant-baseline: central;
        text-anchor: middle;
        font-size: 2px;
        pointer-events: none;
        fill: #fff;
    }

    svg text::selection {
        background: none;
    }

    input[type="range"] {
        width: 100%;
        margin-left: auto;
        margin-right: auto;
        margin-bottom: 42px;
        pointer-events: auto;
    }

    input[type="range"]:focus {
        outline: none;
    }

    input[type="range"],
    input[type="range"]::-webkit-slider-runnable-track,
    input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
    }

    input[type="range"]::-webkit-slider-thumb {
        background-color: #68b3c8;
        width: 20px;
        height: 75px;

        margin-top: -3px;
    }

    input[type="range"]::-moz-range-thumb {
        background-color: #fc7265;
        width: 15px;
        height: 15px;
        border: 3px solid #333;
        border-radius: 50%;
    }

    input[type="range"]::-ms-thumb {
        background-color: #fc7265;
        width: 20px;
        height: 20px;
        border: 3px solid #333;
        border-radius: 50%;
    }

    /*tiao*/
    input[type="range"]::-webkit-slider-runnable-track {
        background-color: #F3F2EE;
        height: 75px;
        border: 3px solid #F3F2EE;
        border-radius: 6px;
    }

    input[type="range"]:focus::-webkit-slider-runnable-track {
        outline: none;
    }

    input[type="range"]::-moz-range-track {
        background-color: #7A9E9F;
        height: 3px;
    }


    input[type="range"]::-ms-fill-upper {
        background-color: #6f42c1;
    }

    @media only screen and (max-width: 480px) {
        div {
            position: static;
            display: block;
            margin: 2em 0;
            width: 100%;
            height: auto;
        }

        #cont input {
            position: static;
            display: block;
            width: 50%;
            margin: 0 auto;
        }
    }
</style>


<body>
<div class="container">
    <div class="row">
        <div class="col-12">
            <div class="header_content d-flex flex-row align-items-center justify-content-start">
                <div class="header_extra  ">
                    <div class="homelogo">
                        <a th:href="@{/index}">
                            <div class="icon_box_image2 "><img src="images/Cat.svg" alt=""></div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="back">
    <div class="container">
        <div class="row">
            <div class="col-sm-14 ">

                <!--      Wizard container        -->
                <div class="wizard-container">
                    <div class="card wizard-card" data-color="blue" id="wizard">
                        <form action="" method="">
                            <!--        You can switch " data-color="green" "  with one of the next bright colors: "blue", "azure", "orange", "red"       -->

                            <div class="wizard-header">

                                <h3 class="wizard-title col-8">分析结果</h3>
                            </div>
                            <div class="wizard-navigation">
                                <div class="progress-with-circle">
                                    <div class="progress-bar" role="progressbar" aria-valuenow="1" aria-valuemin="1"
                                         aria-valuemax="1" style="width: 15%;"></div>
                                </div>
                                <ul>


                                    <li>
                                        <a href="#type1" data-toggle="tab">
                                            <div class="icon-circle">
                                                <i class="ti-pencil-alt"></i>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div class="tab-content">
                                <div class="tab-pane" id="type1">
                                    <div class="row">
                                        <div class="col-sm-12 ">
                                            <!--<div th:each="job:${session.jobRecommend}" type = 'hidden'>-->
                                            <!--    <h1>欢迎 ： <span  th:text="${job}" ></span> </h1>-->
                                            <!--</div>-->
                                            <div th:id="jobRecommend" th:text="${session.jobRecommend}"
                                                 style="display : none"></div>
                                            <div th:id="extraSkill" th:text="${session.extraSkill}"
                                                 style="display : none"></div>
                                            <!--<div th:each="x:${session.extraSkill}"  type = 'hidden'>-->
                                            <!--        <h1>欢迎 ： <span  th:text="${x}" ></span> </h1>-->
                                            <!--</div>-->
                                            <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
                                            <center>
                                                <div id="main" style="width: 1050px;height:600px;"></div>
                                            </center>
                                            <script type="text/javascript">

                                                var itemStyle = {
                                                    normal: {},
                                                    emphasis: {
                                                        barBorderWidth: 1,
                                                        shadowBlur: 10,
                                                        shadowOffsetX: 0,
                                                        shadowOffsetY: 0,
                                                        shadowColor: 'rgba(0,0,0,0.5)'
                                                    }
                                                };
                                                // 基于准备好的dom，初始化echarts实例
                                                var myChart = echarts.init(document.getElementById('main'));
                                                var jobRecommend = document.getElementById("jobRecommend").textContent;
                                                jobRecommend = jobRecommend.substring(2, jobRecommend.length - 2).split("), (");
                                                var extraSkill = document.getElementById("extraSkill").textContent;
                                                extraSkill = extraSkill.substring(3, extraSkill.length - 3).split(")], [(");


                                                var jobName = [];
                                                var jobScore = [];
                                                for (var i = 0; i < jobRecommend.length; i++) {
                                                    var arr = jobRecommend[i].split(",");
                                                    jobName.push(arr[0]);
                                                    jobScore.push(arr[1]);

                                                }

                                                var skills = [];
                                                for (var i = 0; i < extraSkill.length; i++) {
                                                    skills[i] = extraSkill[i].split("), (");
                                                }
                                                console.log(skills);

                                                var skillid1 = [];
                                                var skillid2 = [];
                                                var skillid3 = [];
                                                var skillscore1 = [];
                                                var skillscore2 = [];
                                                var skillscore3 = [];

                                                for (var i = 0; i < skills.length; i++) {
                                                    var arr = skills[i][0].split(",");
                                                    skillid1.push(arr[0]);
                                                    skillscore1.push(arr[1] );

                                                    arr = skills[i][1].split(",");
                                                    skillid2.push(arr[0]);
                                                    skillscore2.push(arr[1] );

                                                    arr = skills[i][2].split(",");
                                                    skillid3.push(arr[0]);
                                                    skillscore3.push(arr[1]);

                                                }

                                                //数据归一化
                                                var maxjob=jobScore[0];


                                                var maxskill=skillscore1[0];
                                                for(var i=0;i<skillscore1.length;i++){
                                                    if(skillscore1[i]>maxskill)
                                                        maxskill=skillscore1[i];
                                                    if(skillscore2[i]>maxskill)
                                                        maxskill=skillscore2[i];
                                                    if(skillscore3[i]>maxskill)
                                                        maxskill=skillscore3[i];
                                                }




                                                //数据map
                                                var mapjob = [];
                                                for (var i = 0; i < jobScore.length; i++) {
                                                    var temp = {};
                                                    temp["value"] = jobScore[i]/maxjob;
                                                    temp["name"] = jobName[i];
                                                    temp["text"] = jobScore[i];
                                                    mapjob.push(temp);
                                                }

                                                var mapskill1 = [];
                                                for (var i = 0; i < jobScore.length; i++) {
                                                    var temp = {};
                                                    temp["value"] = skillscore1[i]/-maxskill;
                                                    temp["name"] = skillid1[i];
                                                    temp["text"] = skillscore1[i];
                                                    mapskill1.push(temp);
                                                }

                                                var mapskill2 = [];
                                                for (var i = 0; i < jobScore.length; i++) {
                                                    var temp = {};
                                                    temp["value"] = skillscore2[i]/-maxskill;
                                                    temp["name"] = skillid2[i];
                                                    temp["text"] = skillscore2[i];
                                                    mapskill2.push(temp);
                                                }

                                                var mapskill3 = [];
                                                for (var i = 0; i < jobScore.length; i++) {
                                                    var temp = {};
                                                    temp["value"] = skillscore3[i]/-maxskill;
                                                    temp["name"] = skillid3[i];
                                                    temp["text"] = skillscore3[i];
                                                    mapskill3.push(temp);
                                                }






                                                option = {
                                                    backgroundColor: '#eee',
                                                    legend: {
                                                        data: ['推荐职位', '所需技能1', '所需技能2', '所需技能3'],
                                                        align: 'left',
                                                        left: 10
                                                    },
                                                    brush: {
                                                        toolbox: ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear'],
                                                        xAxisIndex: 0
                                                    },
                                                    toolbox: {
                                                        feature: {
                                                            magicType: {
                                                                type: ['stack', 'tiled']
                                                            },
                                                            dataView: {}
                                                        }
                                                    },
                                                    tooltip: {},
                                                    xAxis: {
                                                        data: jobName,
                                                        name: '职业',
                                                        silent: false,
                                                        axisLine: {onZero: true},
                                                        splitLine: {show: false},
                                                        splitArea: {show: false}
                                                    },
                                                    yAxis: {
                                                        name: '推荐程度',
                                                        splitArea: {show: true}
                                                    },
                                                    grid: {
                                                        left: 100
                                                    },
                                                    series: [
                                                        {
                                                            name: '所需技能1',
                                                            type: 'bar',
                                                            stack: 'one',
                                                            itemStyle: itemStyle,
                                                            data: mapskill1,
                                                        },
                                                        {
                                                            name: '所需技能2',
                                                            type: 'bar',
                                                            stack: 'two',
                                                            itemStyle: itemStyle,
                                                            data: mapskill2,
                                                        },
                                                        {
                                                            name: '所需技能3',
                                                            type: 'bar',
                                                            stack: 'three',
                                                            itemStyle: itemStyle,
                                                            data: mapskill3,
                                                        },
                                                        {
                                                            name: '推荐职位',
                                                            type: 'bar',
                                                            stack: 'two',
                                                            itemStyle: itemStyle,
                                                            data: mapjob,
                                                        }
                                                    ]
                                                };

                                                // 使用刚指定的配置项和数据显示图表。
                                                myChart.setOption(option);
                                            </script>

                                        </div>
                                    </div>
                                </div>


                                <div class="wizard-footer">
                                    <div class="pull-right">
                                        <a th:href="@{/index}">
                                            <input type='button' class='btn btn-finish btn-fill btn-success btn-wd'
                                                  name='finish' value='Finish'/>
                                        </a>

                                    </div>

                                    <div class="clearfix"></div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div> <!-- wizard container -->
            </div>
        </div> <!-- row -->
    </div> <!--  big container -->

</div>
</div>
</body>

<!--   Core JS Files   -->
<script src="assets/js/jquery-2.2.4.min.js" type="text/javascript"></script>
<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
<script src="assets/js/jquery.bootstrap.wizard.js" type="text/javascript"></script>

<!--  Plugin for the Wizard -->
<script src="assets/js/paper-bootstrap-wizard.js" type="text/javascript"></script>

<!--  More information about jquery.validate here: http://jqueryvalidation.org/	 -->
<script src="assets/js/jquery.validate.min.js" type="text/javascript"></script>

</html>
